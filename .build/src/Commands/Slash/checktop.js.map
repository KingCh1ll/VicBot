{
  "version": 3,
  "sources": ["../../../../src/Commands/Slash/checktop.ts"],
  "sourcesContent": ["import Discord, { Role, Colors, ButtonInteraction } from \"discord.js\";\n\nimport cmd from \"../../Structures/command\";\n\nlet cache: any[] = [];\nsetInterval(() => cache = [], 120 * 1000);\n\nlet OGRole: any;\nlet TopOGRole: any;\n\nasync function execute(bot: any, message: any, data: any) {\n  let members = cache.find((c) => c?.user?.id) ? cache : await message.guild.members.fetch();\n  cache = members;\n  members = members\n    .sort((a: any, b: any) => a.joinedTimestamp - b.joinedTimestamp)\n    .toJSON();\n\n  const position = new Promise((ful) => {\n    for (let i = 1; i < members.length + 1; i++) {\n      if (members[i - 1].id === message.user.id) ful(i);\n    }\n  })\n\n  if (await position <= 500) {\n    if (!OGRole) OGRole = message.guild.roles.cache.get(\"1053082586274082856\");\n    await message.member.roles.add(OGRole).catch((): any => null);\n\n    if (await position <= 100) {\n      if (!TopOGRole) TopOGRole = message.guild.roles.cache.get(\"1053082544175841330\");\n      await message.member.roles.add(TopOGRole).catch((): any => null);\n    }\n  }\n\n  await message.editReply(`You were the **${await position}th person** to join the server, out of **${members.length}** people. ${await position >= 500 ? `You are not eligible for the top 500th OG role.` : `You are eligible for the top 500th OG role${await position >= 100 ? \".\" : \", and the top 100th OG role!\"}`}`);\n}\n\nexport default new cmd(execute, {\n  description: \"Check everybody in the server to see if they are the top 100, and top 500 members.\",\n  usage: \"\",\n  perms: [],\n  bot_perms: [\"ManageRoles\"],\n  ephemeral: false,\n  slash: true,\n  options: [{\n    type: 6,\n    name: \"user\",\n    description: \"The user to check. Leave blank to check yourself.\"\n  }]\n});\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAEA,qBAAgB;AAEhB,IAAI,QAAe;AACnB,YAAY,MAAM,QAAQ,IAAI,MAAM;AAEpC,IAAI;AACJ,IAAI;AAEJ,uBAAuB,KAAU,SAAc,MAAW;AACxD,MAAI,UAAU,MAAM,KAAK,CAAC,MAAG;AAX/B;AAWkC,wCAAG,SAAH,mBAAS;AAAA,OAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ;AACnF,UAAQ;AACR,YAAU,QACP,KAAK,CAAC,GAAQ,MAAW,EAAE,kBAAkB,EAAE,iBAC/C;AAEH,QAAM,WAAW,IAAI,QAAQ,CAAC,QAAQ;AACpC,aAAS,IAAI,GAAG,IAAI,QAAQ,SAAS,GAAG,KAAK;AAC3C,UAAI,QAAQ,IAAI,GAAG,OAAO,QAAQ,KAAK;AAAI,YAAI;AAAA;AAAA;AAInD,MAAI,MAAM,YAAY,KAAK;AACzB,QAAI,CAAC;AAAQ,eAAS,QAAQ,MAAM,MAAM,MAAM,IAAI;AACpD,UAAM,QAAQ,OAAO,MAAM,IAAI,QAAQ,MAAM,MAAW;AAExD,QAAI,MAAM,YAAY,KAAK;AACzB,UAAI,CAAC;AAAW,oBAAY,QAAQ,MAAM,MAAM,MAAM,IAAI;AAC1D,YAAM,QAAQ,OAAO,MAAM,IAAI,WAAW,MAAM,MAAW;AAAA;AAAA;AAI/D,QAAM,QAAQ,UAAU,kBAAkB,MAAM,oDAAoD,QAAQ,oBAAoB,MAAM,YAAY,MAAM,oDAAoD,6CAA6C,MAAM,YAAY,MAAM,MAAM;AAAA;AAGzR,IAAO,mBAAQ,IAAI,uBAAI,SAAS;AAAA,EAC9B,aAAa;AAAA,EACb,OAAO;AAAA,EACP,OAAO;AAAA,EACP,WAAW,CAAC;AAAA,EACZ,WAAW;AAAA,EACX,OAAO;AAAA,EACP,SAAS,CAAC;AAAA,IACR,MAAM;AAAA,IACN,MAAM;AAAA,IACN,aAAa;AAAA;AAAA;",
  "names": []
}
